<div id="messages" class="messages-index" data-controller="chat"
     data-current-user-id="<%= current_user.id %>"
     data-recipient-user-id="<%= params[:user_id] %>"
>
  <div class="header">
    <%= render 'friends', user: @recipient %>
  </div>
  <div class="messages-container">
    <h2 data-chat-target="noMessage"
      class="<%= @messages.size > 0 ? "hidden" : "" %>"
    >
      Don't have any messages
    </h2>
    <div id="messages-container" data-chat-target="messagesContainer">
      <% @messages.each do |message| %>
        <% if message.sender_id == current_user.id %>
          <%= render 'sender_message', message: message %>
        <% else %>
          <%= render 'recipient_message', message: message %>
        <% end %>
      <% end %>
    </div>
  </div>
  <%= render "message_form" %>
</div>

